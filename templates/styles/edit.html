{% extends "base.html" %}

{% block extrahead %}{{ block.super }}
    <style type='text/css'>

    </style>
{% endblock %}

{% block content %}
    <form method="post" action="">
    {% csrf_token %}
        <fieldset>
            <legend>Meta</legend>
            {% for field in form.hidden_fields %}{{ field }}{% endfor %}
            {{ form.errors }}
            <table>
                <tr>
                    <td>{{ form.number.label }}</td>
                    <td class='{{ form.number.css_classes }}'>{{ form.number }}</td>
                </tr>
                <tr>
                    <td>{{ form.description.label }}</td>
                    <td>{{ form.description }}</td>
                </tr>
                <tr>
                    <td>{{ form.manufacturer.label }}</td>
                    <td>{{ form.manufacturer }}</td>
                </tr>
            </table>
        </fieldset>
        
        <fieldset>
            <legend>Sizes Available</legend>
            <table>
                <tr>
                    <th></th>
                    <th>Size</th>
                    <th>Weight</th>
                </tr>
                {% for sizeform in sizeforms %}
                <tr>
                    <td>{{ sizeform.exists }}{{ sizeform.errors }}</td>
                    <td>{{ sizeform.label.value }}</td>
                    <td>{{ sizeform.weight }}{% for field in sizeform.hidden_fields %}{{ field }}{% endfor %}</td>
                </tr>
                {% endfor %}
            </table>
        </fieldset>
        
        <h3>Price Categories</h3>
        {% for priceform in priceforms %}
        <fieldset>
            <legend>{{ priceform.name }}{{ priceform.basecost }}{% for field in priceform.hidden_fields %}{{ field }}{% endfor %}</legend>
            <fieldset>
                <legend>Sizes with Added Cost <input type='button' value='+'/></legend>
                {% for addedcostform in addedcostforms %}
                    {% if addedcostform.parentprefix.value == priceform.prefix %}
                        {{ addedcostform.stylesize}}{{ addedcostform.addedcost }}{% for field in addedcostform.hidden_fields %}{{ field }}{% endfor %}
                    {% endif %}
                {% endfor %}
            </fieldset>
            <fieldset>
                <legend>Colors Included</legend>
                {% for colorform in colorforms %}
                    {% if colorform.parentprefix.value == priceform.prefix %}
                        <div class='left inputmimic'>{{ colorform.label.value }}{% for field in colorform.hidden_fields %}{{ field }}{% endfor %}</div>
                    {% endif %}
                {% endfor %}
            </fieldset>
        </fieldset>
        {% endfor %}
        
        <fieldset>
            <legend>Notes</legend>
            {{ form.note }}
        </fieldset>
        <input type='submit' value='submit'/>
    </form>
{% endblock %}

{% block sidebar %}
    <ul>
    {% for color in colors %}
        <li>{{ color }}</li>
    {% endfor %}
    </ul>
{% endblock %}
